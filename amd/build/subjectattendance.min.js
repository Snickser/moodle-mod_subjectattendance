define("mod_subjectattendance/subjectattendance",["core/notification"],(function(Notification){return{init:function(cmId){document.querySelectorAll("select[data-subjectid]").forEach((function(sel){sel.addEventListener("change",(function(){var subjectid=this.dataset.subjectid,userid=this.dataset.userid,status=this.value,formdata=new FormData;formdata.append("sesskey",M.cfg.sesskey),formdata.append("cmid",cmId),formdata.append("subjectid",subjectid),formdata.append("userid",userid),formdata.append("status",status),fetch(M.cfg.wwwroot+"/mod/subjectattendance/ajax.php",{method:"POST",body:formdata,credentials:"same-origin"}).then((res=>res.json())).then((json=>{json.success?Notification.addNotification({message:"Saved.",level:"success"}):Notification.addNotification({message:"Error",level:"error"})})).catch((()=>{Notification.addNotification({message:"Network error",level:"error"})}))}))}))}}}));

//# sourceMappingURL=subjectattendance.min.js.map